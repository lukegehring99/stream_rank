# ============================================================================
# Trending YouTube Livestreams - Environment Configuration
# ============================================================================
# Copy this file to .env and customize for your environment
# NEVER commit .env to version control!
# ============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME="Trending YouTube Livestreams API"
APP_VERSION="1.0.0"
DEBUG=false
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Database Configuration (Local Development)
# -----------------------------------------------------------------------------
# Format: mysql+aiomysql://user:password@host:port/database
DATABASE_URL="mysql+aiomysql://root:password@localhost:3306/stream_rank"

# Connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_RECYCLE=3600
DB_ECHO=false

# -----------------------------------------------------------------------------
# Docker MySQL Configuration
# -----------------------------------------------------------------------------
MYSQL_ROOT_PASSWORD=rootpassword
MYSQL_DATABASE=streamrank
MYSQL_USER=streamrank
MYSQL_PASSWORD=streamrank_password
MYSQL_PORT=3306

# Docker Database URL (uses asyncmy driver for production)
# DATABASE_URL=mysql+asyncmy://streamrank:streamrank_password@mysql:3306/streamrank

# -----------------------------------------------------------------------------
# JWT Authentication
# -----------------------------------------------------------------------------
# IMPORTANT: Change this to a secure random string in production!
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET_KEY="your-super-secret-key-change-in-production-min-32-chars"
JWT_SECRET="your-super-secret-key-change-in-production-min-32-chars"
JWT_ALGORITHM="HS256"
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_EXPIRY_HOURS=24

# -----------------------------------------------------------------------------
# User Passwords (synced on API startup)
# -----------------------------------------------------------------------------
# Set these to automatically update user passwords when the API starts
# Minimum 8 characters required
ADMIN_PASSWORD=your-admin-password-here
MODERATOR_PASSWORD=your-moderator-password-here

# -----------------------------------------------------------------------------
# Cache Configuration
# -----------------------------------------------------------------------------
# TTL for trending livestreams cache (in seconds)
CACHE_TTL_SECONDS=300
CACHE_TTL_MINUTES=5
CACHE_MAX_ITEMS=100

# -----------------------------------------------------------------------------
# API Settings
# -----------------------------------------------------------------------------
API_PORT=8000
MAX_LIVESTREAMS_COUNT=100
DEFAULT_LIVESTREAMS_COUNT=10

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins (use * for all)
CORS_ORIGINS=["*"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

# -----------------------------------------------------------------------------
# Worker Configuration
# -----------------------------------------------------------------------------
# YouTube Data API v3 Key
# Get yours at: https://console.cloud.google.com/apis/credentials
YOUTUBE_API_KEY=your-youtube-api-key-here

# How often to poll YouTube API (in minutes)
POLL_INTERVAL_MINUTES=3

# How long to keep historical data (in days)
RETENTION_DAYS=30

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------
ADMIN_PORT=3001
VITE_API_URL=http://localhost:8000/api/v1

# Widget port (dev only - served from docker-compose.override.yml)
WIDGET_PORT=3000

# Widget URL for admin iframe preview (default: local container)
VITE_WIDGET_URL=http://localhost:3000

# GitHub Pages URL for production widget (optional)
# VITE_WIDGET_GITHUB_URL=https://yourusername.github.io/stream-rank-widget

# -----------------------------------------------------------------------------
# Optional: Redis Configuration
# -----------------------------------------------------------------------------
# Uncomment if using Redis for caching
# REDIS_URL=redis://redis:6379/0

# -----------------------------------------------------------------------------
# Optional: Monitoring
# -----------------------------------------------------------------------------
# Uncomment for Sentry error tracking
# SENTRY_DSN=https://your-sentry-dsn
